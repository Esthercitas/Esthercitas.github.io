<!DOCTYPE html> <!-- Define el tipo de documento como HTML5 -->
<html lang="es"> <!-- Inicia el documento HTML y establece el idioma a español -->
<head>
    <meta charset="UTF-8"> <!-- Define la codificación de caracteres como UTF-8 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Hace que el sitio sea responsive en dispositivos móviles -->
    <title>Combate por turnos León de Nemea</title> <!-- Título que aparecerá en la pestaña del navegador -->    
    <link rel="stylesheet" href="styles_combate.css"> <!-- Vincula el archivo CSS externo para los estilos -->
    <link rel="icon" type="image/png" href="../../img/favicon.png"> <!-- Define el favicon (icono de la pestaña del navegador) -->
</head>
<body>
    <!-- Modal de instrucciones -->
    <div id="instructions-modal" class="modal">
        <div class="modal-content">
            <h2>⚔️ Instrucciones del Combate ⚔️</h2>
            <ul>
                <li>► Usa los 4 ataques de Heracles con los botones</li>
                <li>► Cada ataque tiene diferente daño</li>
                <li>► La Ambrosía Sagrada cura 20 PS (usos limitados)</li>
                <li>► Derrota al León de Nemea antes de que te elimine</li>
            </ul>
            <button id="start-battle-btn">¡Comenzar Combate!</button> <!-- Botón para cerrar el modal y comenzar -->
        </div>
    </div>

    <!-- Contenedor principal del juego, oculto al principio hasta que empiece el combate -->
    <div class="game-container" style="display: none;">
        <h1>¡Combate contra el león de Nemea!</h1>
        
    <!-- Zona de personajes: jugador y enemigo -->        
        <div class="figuras-container">
            <!-- Sección de jugador -->
            <div class="figura player">
                <h2>Heracles</h2>
                <!-- Barra de vida de jugador -->
                <div class="ps-bar">
                    <div class="ps-fill" id="player-ps"></div> <!-- Se rellena dinámicamente con JS -->
                </div>
                <p class="ps-text" id="player-ps-text">100 / 100 PS</p> <!-- Texto que muestra los PS actuales -->
                <img src="images/pixelheracles.png" alt="Heracles"> <!-- Imagen del personaje -->
            </div>
            
            <!-- Sección del enemigo -->
            <div class="figura enemy">
                <h2>León de Nemea</h2>
                <!-- Barra del enemigo -->
                <div class="ps-bar">
                    <div class="ps-fill" id="enemy-ps"></div> <!-- Se rellena dinámicamente con JS -->
                </div>
                <p class="ps-text" id="enemy-ps-text">100 / 100 PS</p><!-- Texto que muestra los PS actuales -->
                <img src="images/leon.png" alt="León de Nemea"><!-- Imagen del personaje -->
            </div>
        </div>

        <!-- Zona de botones de ataque y objeto -->
        <div class="actions-container">
            <div class="attack-buttons">
                <!-- Cada botón ejecuta una función con un índice distinto de ataque -->
                <button onclick="playerAttack(0)">Golpe Titánico</button>
                <button onclick="playerAttack(1)">Asfixia Divina</button>
                <button onclick="playerAttack(2)">Agarre Indomable</button>
                <button onclick="playerAttack(3)">Lanza Celestial</button>
            </div>
            <!-- Botón para usar el objeto curativo (Ambrosía) -->
            <button class="potion-button" onclick="usePotion()">Usar Ambrosía Sagrada <span id="potion-count">(5 restantes)</span></button> <!-- Contador dinámico de pociones -->
        </div>

        <!-- Zona donde se escriben los eventos del combate -->
        <div class="battle-log" id="battle-log">
            <p>¡Comienza el combate!</p> <!-- Mensaje inicial -->
        </div>
    </div>

    <!-- Precarga de audio para iOS -->
    <audio id="audio-preload" src="sounds/golpe.mp3" preload="auto"></audio>
    
    <!-- Enlace al archivo JavaScript que contiene la lógica del combate -->
    <script src="script_combate.js"></script>
</body>
</html>